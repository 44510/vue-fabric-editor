import{g as x,k as A,i as $,j as S,Y as E,c as y,d as C,A as w,P as R,u as h,O as L,Z as N,F as Z,D as se,J as V,e as H,G as re,E as ae,$ as le,x as ce,t as ie}from"./index.baab5e85.js";import{g as K,a as ue,c as Q,v as de}from"./index.4ceab42a.js";var pe=Object.defineProperty,fe=Object.defineProperties,ve=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertySymbols,_e=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,F=(r,e,t)=>e in r?pe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e)=>{for(var t in e||(e={}))_e.call(e,t)&&F(r,t,e[t]);if(U)for(var t of U(e))he.call(e,t)&&F(r,t,e[t]);return r},I=(r,e)=>fe(r,ve(e));function be({red:r,green:e,blue:t}){let s,u,i,l=0,a;const v=r/255,b=e/255,k=t/255,m=Math.max(v,b,k),p=m-Math.min(v,b,k),n=o=>(m-o)/6/p+1/2;return p===0?(l=0,a=0):(a=p/m,s=n(v),u=n(b),i=n(k),v===m?l=i-u:b===m?l=1/3+s-i:k===m&&(l=2/3+u-s),l<0?l+=1:l>1&&(l-=1)),{hue:Math.round(l*360),saturation:Math.round(a*100),value:Math.round(m*100)}}function B(r){return typeof r=="number"&&Number.isNaN(r)===!1&&r>=0&&r<=255}function X(r,e,t,s){if(B(r)&&B(e)&&B(t)){const u={red:r|0,green:e|0,blue:t|0,alpha:s|0};return B(s)===!0&&(u.alpha=s|0),u}}function Y(r,e,t,s){t/=100;let i=e/100*t;const l=r/60;let a=i*(1-Math.abs(l%2-1)),v=t-i;const b=255;return i=(i+v)*b|0,a=(a+v)*b|0,v=v*b|0,l>=1&&l<2?X(a,i,v,s):l>=2&&l<3?X(v,i,a,s):l>=3&&l<4?X(v,a,i,s):l>=4&&l<5?X(a,v,i,s):l>=5&&l<=6?X(i,v,a,s):X(i,a,v,s)}function T(r,e,t,s,u,i){r>s&&(r=s),e>t&&(e=t),r<0&&(r=0),e<0&&(e=0);const l=100-e*100/t|0,a=r*100/s|0;return I(P({},Y(u,a,l,i)),{saturation:a,value:l})}function q(r,e,t,s,u){let i=360*r/e|0;return i=i<0?0:i>360?360:i,I(P({},Y(i,t,s,u)),{saturation:t,hue:i})}function z(r,e){return r=Number((r/e).toFixed(2)),r>1?1:r<0?0:r}function J(r,e,t){let s=r.toString(16),u=e.toString(16),i=t.toString(16);return r<16&&(s=`0${s}`),e<16&&(u=`0${u}`),t<16&&(i=`0${i}`),s+u+i}const me=/(^#{0,1}[0-9A-F]{6}$)|(^#{0,1}[0-9A-F]{3}$)|(^#{0,1}[0-9A-F]{8}$)/i;function xe(r){if(me.test(r)){if(r[0]==="#"&&(r=r.slice(1,r.length)),r.length<6)return!1;const t=parseInt(r.substring(0,2),16)||0,s=parseInt(r.substring(2,4),16)||0,u=parseInt(r.substring(4,6),16)||0,i=parseInt(r.substring(6,8),16)/255||0,l=X(t,s,u,i),a=l&&be(P({},l));return P(P({},l),a)}return!1}function W(r,e){const t=r*100/e;return t<0?0:t>100?100:t}function j(r,e,t){return function(u){let i=r(u);function l(a){i=e(a,i)||i}window.addEventListener("mousemove",l),window.addEventListener("mouseup",a=>{window.removeEventListener("mousemove",l),t&&t(a,i)},{once:!0})}}const ge={class:"picker-area-overlay1 wh-full"},we={class:"picker-area-overlay2 wh-full rounded-8px"},Pe=x({name:"AreaPicker"}),ke=x(I(P({},Pe),{setup(r){const e=A(null),t=A(null),s=$("colorPickerState"),u=$("updateColor"),i=S(()=>{const{width:p=0,height:n=0}=t.value||{},{saturation:o=100,value:c=100,isGradient:d,activePointIndex:f}=s,_=(o*p/100|0)-6,g=(n-c*n/100|0)-6,M=s.points[f||0],te=d?M==null?void 0:M.red:s.red,ne=d?M==null?void 0:M.green:s.green,oe=d?M==null?void 0:M.blue:s.blue;return{backgroundColor:`rgb(${te}, ${ne}, ${oe})`,left:`${_}px`,top:`${g}px`}}),l=S(()=>{const{isGradient:p,red:n,green:o,blue:c,activePointIndex:d=0,points:f=[]}=s;if(p){const _=f[d];return{backgroundColor:`rgb(${_.red}, ${_.green}, ${_.blue})`}}else return{backgroundColor:`rgb(${n}, ${o}, ${c})`}}),a=p=>{if(!t.value)return;const{x:n,y:o}=t.value,{width:c=0,height:d=0}=t.value||{},f=p.pageX,_=p.pageY,g=f-n,G=_-o,M=T(g,G,d,c,s.hue,s.alpha);return u(M),{startX:f,startY:_,positionX:g,positionY:G}},v=(p,{startX:n,startY:o,positionX:c,positionY:d})=>{const f=p.pageX-n,_=p.pageY-o,{width:g=0,height:G=0}=t.value||{};c+=f,d+=_;const M=T(c,d,G,g,s.hue,s.alpha);return{positions:{positionX:c,positionY:d,startX:p.pageX,startY:p.pageY},color:M}},m=j(a,(p,{startX:n,startY:o,positionX:c,positionY:d})=>{const{positions:f,color:_}=v(p,{startX:n,startY:o,positionX:c,positionY:d});return u(_),f},(p,{startX:n,startY:o,positionX:c,positionY:d})=>{const{positions:f,color:_}=v(p,{startX:n,startY:o,positionX:c,positionY:d});return u(_),f});return E(()=>{var p;const n=e.value;n&&!((p=t.value)!=null&&p.width)&&(t.value=n.getBoundingClientRect()||null)}),(p,n)=>(y(),C("div",{ref_key:"pickerAreaRef",ref:e,class:"picker-area w-full mb-16px relative rounded-8px",style:R(h(l)),onMousedown:n[0]||(n[0]=(...o)=>h(m)&&h(m)(...o))},[w("div",ge,[w("div",we,[w("div",{class:"picker-pointer",style:R(h(i))},null,4)])])],36))}})),D=(r,e)=>{const t=r.__vccOpts||r;for(const[s,u]of e)t[s]=u;return t},$e=D(ke,[["__scopeId","data-v-2e8391c9"]]),ye={class:"preview-area mr-8px"},Ie=x({name:"AreaPreview"}),Se=x(I(P({},Ie),{setup(r){const e=$("colorPickerState"),t=S(()=>{let s="";return e.isGradient?s=K(e.points,e.type,e.degree):s=ue(e.red,e.green,e.blue,e.alpha),{background:s}});return(s,u)=>(y(),C("div",ye,[w("div",{class:"border-box w-36px h-36px rounded-8px border-width-1px border-solid border-[#ebedf5]",style:R(h(t))},null,4)]))}})),Ce=x({name:"AreaHue"}),He=x(I(P({},Ce),{setup(r){const e=A(null),t=A(null),s=$("colorPickerState"),u=$("updateColor"),i=S(()=>{var p;const n=((p=t.value)==null?void 0:p.width)||0;return(s.hue||0)*(n-14)/360|0}),l=S(()=>({left:`${i.value}px`})),a=p=>{var n,o;const c=((n=t.value)==null?void 0:n.x)||0,d=p.pageX,f=((o=t.value)==null?void 0:o.width)||0,_=d-c,g=q(_,f,s.saturation,s.value,s.alpha);return u(g),{startX:d,positionX:_}},v=(p,{startX:n,positionX:o})=>{var c;const d=p.pageX-n,f=((c=t.value)==null?void 0:c.width)||0;o+=d;const _=o>f?f:o<=0?0:o,g=q(_,f,s.saturation,s.value,s.alpha);return{positions:{positionX:o,startX:p.pageX},color:g}},m=j(a,(p,{startX:n,positionX:o})=>{const{positions:c,color:d}=v(p,{startX:n,positionX:o});return u(d),c},(p,{startX:n,positionX:o})=>{const{positions:c,color:d}=v(p,{startX:n,positionX:o});return u(d),c});return E(()=>{var p,n;e.value&&!((p=t.value)!=null&&p.width)&&(t.value=((n=e.value)==null?void 0:n.getBoundingClientRect())||null)}),(p,n)=>(y(),C("div",{class:"relative w-full overflow-hidden rounded-10px mb-8px bg-[red] cursor-pointer",onMousedown:n[0]||(n[0]=(...o)=>h(m)&&h(m)(...o))},[w("div",{ref_key:"hueRef",ref:e,class:"hue-area relative"},[w("div",{class:"picker-pointer",style:R(h(l))},null,4)],512)],32))}})),Me=D(He,[["__scopeId","data-v-7cd4331a"]]),Ae={class:"alpha-area wh-full rounded-10px"},Re=x({name:"AreaAlpha"}),Xe=x(I(P({},Re),{setup(r){const e=$("colorPickerState"),t=$("updateColor"),s=A(null),u=A(null),i=S(()=>{var n;const{isGradient:o,alpha:c,activePointIndex:d=0,points:f=[]}=e,_=((n=u.value)==null?void 0:n.width)||0;return o?f[d].alpha*(_-14)|0:c*(_-14)|0}),l=S(()=>{const{isGradient:n,red:o,green:c,blue:d,activePointIndex:f=0,points:_=[]}=e;if(n){const g=_[f];return{background:`linear-gradient(to right, rgba(0, 0, 0, 0), rgb(${g.red}, ${g.green}, ${g.blue}))`}}else return{background:`linear-gradient(to right, rgba(0, 0, 0, 0), rgb(${o}, ${c}, ${d}))`}}),a=S(()=>({left:`${i.value}px`})),v=n=>{var o,c;const d=((o=u.value)==null?void 0:o.x)||0,f=n.pageX,_=((c=u.value)==null?void 0:c.width)||0;let g=f-d;return t({alpha:z(g,_)},"alpha"),{startX:f,positionX:g}},b=(n,{startX:o,positionX:c})=>{var d;const f=n.pageX-o,_=((d=u.value)==null?void 0:d.width)||0;c+=f;const g=z(c,_);return{positions:{positionX:c,startX:n.pageX},alpha:g}},p=j(v,(n,{startX:o,positionX:c})=>{const{positions:d,alpha:f}=b(n,{startX:o,positionX:c});return t({alpha:f},"alpha"),d},(n,{startX:o,positionX:c})=>{const{positions:d,alpha:f}=b(n,{startX:o,positionX:c});return t({alpha:f},"alpha"),d});return E(()=>{var n,o;s.value&&!((n=u.value)!=null&&n.width)&&(u.value=((o=s.value)==null?void 0:o.getBoundingClientRect())||null)}),(n,o)=>(y(),C("div",{class:"relative w-full overflow-hidden rounded-10px h-14px cursor-pointer",onMousedown:o[0]||(o[0]=(...c)=>h(p)&&h(p)(...c))},[w("div",{class:"absolute left-0 right-0 top-0 bottom-0",style:R(h(l))},null,4),w("div",Ae,[w("div",{ref_key:"alphaMaskRef",ref:s,class:"wh-full relative"},[w("div",{class:"picker-pointer",style:R(h(a))},null,4)],512)])],32))}})),Ge=D(Xe,[["__scopeId","data-v-256c0c24"]]),Be=["onDblclick"],Oe=x({name:"AreaGradientPoint"}),Ee=x(I(P({},Oe),{props:{index:{type:Number,required:!0},point:{type:Object,required:!0},width:{type:Number,default:0},positions:{type:Object}},setup(r){const e=r,t=$("colorPickerState"),s=$("updateColor"),u=S(()=>t.activePointIndex===e.index?" active":""),i=S(()=>({left:`${e.point.left*((e.width-14)/100)}px`})),l=n=>{const o=n.pageX,c=n.pageY,d=o-(e.positions.x||0);return t.activePointIndex=e.index,{startX:o,startY:c,offsetX:d}},a=n=>{t.points[e.index].left=n,s({type:t.type},"type")},v=(n,{startX:o,offsetX:c})=>{const d=n.pageX-o;c+=d;const f=W(c,e.width);return{positions:{offsetX:c,startX:n.pageX},left:f}},m=j(l,(n,{startX:o,offsetX:c})=>{const{positions:d,left:f}=v(n,{startX:o,offsetX:c});return a(f),d},(n,{startX:o,offsetX:c})=>{const{positions:d,left:f}=v(n,{startX:o,offsetX:c});return a(f),d}),p=()=>{let n=Q(t.points);if(n.length<=2)return;const o=e.index,c=o===0?1:o-1;n=n==null?void 0:n.filter(d=>d.id!==e.point.id),t.activePointIndex=c,s({points:n},"points")};return(n,o)=>(y(),C("div",{class:L(`picker-pointer${h(u)}`),style:R(h(i)),onMousedown:o[0]||(o[0]=N((...c)=>h(m)&&h(m)(...c),["stop"])),onDblclick:N(p,["stop"]),onClick:o[1]||(o[1]=N(()=>h(t).activePointIndex=e.index,["stop"]))},[w("span",{class:L(`child-point${h(u)}`)},null,2)],46,Be))}})),je=x({name:"AreaGradientPoints"}),De=x(I(P({},je),{setup(r){const e=$("colorPickerState"),t=$("updateColor"),s=A(null),u=A(null),i=S(()=>({background:K(e.points,"linear",90)})),l=a=>{const{x:v=0,width:b=0}=u.value||{},k=W(a.pageX-v,b),{hue:m,saturation:p,value:n}=e,o=Q(e.points),c=Y(m,p,n,1),d=I(P({id:de()},c),{left:k});o==null||o.push(d),e.activePointIndex=o.findIndex(f=>f.id===d.id),t({points:o},"points")};return E(()=>{var a,v;s.value&&!((a=u.value)!=null&&a.width)&&(u.value=((v=s.value)==null?void 0:v.getBoundingClientRect())||null)}),(a,v)=>(y(),C("div",{class:"gradient border-box w-full h-14px relative cursor-pointer rounded-10px mb-8px",style:R(h(i)),onClick:l},[w("div",{ref_key:"pointsContainerRef",ref:s,class:"wh-full relative"},[(y(!0),C(Z,null,se(h(e).points,(b,k)=>{var m;return y(),V(Ee,{key:b.id,index:k,point:b,positions:h(u),width:(m=h(u))==null?void 0:m.width},null,8,["index","point","positions","width"])}),128))],512)],4))}})),Ne={class:"flex flex-col px-16px"},Le={class:"flex pb-16px"},Ve={class:"flex flex-col flex-1"},Ye=x({name:"Area"}),rt=x(I(P({},Ye),{setup(r){const e=$("colorPickerState");return(t,s)=>(y(),C("div",Ne,[H($e),h(e).isGradient?(y(),V(De,{key:0})):re("",!0),w("div",Le,[H(Se),w("div",Ve,[H(Me),H(Ge)])])]))}})),Ue={class:"flex items-center relative w-full rounded-6px text-[#28314d]"},Fe=["maxlength","type"],Te={class:"text-12px lining-15px font-bold mt-6px mb-0 text-[#1f2667]"},qe=x({name:"Input"}),ze=x(I(P({},qe),{props:{value:{default:""},label:{default:""},classes:{default:""},maxLen:{default:"3"},type:{default:"text"}},emits:["input","blur","focus","update:value"],setup(r,{emit:e}){const t=r,s=S({get:()=>t.value,set:a=>{e("update:value",a)}}),u=a=>{e("input",a)},i=()=>{e("blur")},l=()=>{e("focus")};return(a,v)=>(y(),C("div",{class:L(["flex flex-shrink-0 items-center flex-col",t.classes])},[w("div",Ue,[ae(w("input",{"onUpdate:modelValue":v[0]||(v[0]=b=>ce(s)?s.value=b:null),class:"w-full outline-0 text-[#1f2667] text-center font-bold text-12px",maxlength:r.maxLen,type:t.type,onFocus:l,onBlur:i,onInput:u},null,40,Fe),[[le,h(s),void 0,{trim:!0}]])]),w("div",Te,ie(r.label),1)],2))}})),ee=D(ze,[["__scopeId","data-v-034b5687"]]),Je=x({name:"PreviewHex"}),Ze=x(I(P({},Je),{setup(r){const e=$("colorPickerState"),t=$("updateColor"),s=S(()=>{const{isGradient:i,activePointIndex:l}=e,a=e.points[l];return i?J(a.red,a.green,a.blue):J(e.red,e.green,e.blue)}),u=i=>{let l=i.target.value;if(!l&&l!==0)return;const a=xe(l);a&&t(a)};return(i,l)=>(y(),V(ee,{value:h(s),label:"Hex","max-len":"7",classes:"hex mr-8px",onInput:u},null,8,["value"]))}})),Ke=x({name:"PreviewRGBItem"}),O=x(I(P({},Ke),{props:{type:{default:"text"},label:{default:""}},setup(r){const e=r,t=$("colorPickerState"),s=$("updateColor"),u=S(()=>{const{isGradient:l,red:a,green:v,blue:b,alpha:k,points:m=[],activePointIndex:p=0}=t,n=m[p];let o=0;switch(e.label){case"R":o=l?n.red:a;break;case"G":o=l?n.green:v;break;case"B":o=l?n.blue:b;break;case"A":o=~~((l?n.alpha:k)*100);break}return o}),i=l=>{let a=+l.target.value;const{isGradient:v,points:b=[],activePointIndex:k=0}=t;switch(b[k],e.label==="A"&&a>100?a=100:a<=0?a=0:a>255&&(a=255),e.label){case"R":s({red:a},"red");break;case"G":s({green:a},"green");break;case"B":s({blue:a},"blue");break;case"A":s({alpha:a/100},"alpha");break}};return(l,a)=>(y(),C("div",null,[H(ee,{value:h(u),label:e.label,type:e.type,classes:e.label!=="A"?"mr-8px":"",onInput:i},null,8,["value","label","type","classes"])]))}})),Qe=x({name:"PreviewRGB"}),We=x(I(P({},Qe),{setup(r){return(e,t)=>(y(),C(Z,null,[H(O,{type:"number",label:"R"}),H(O,{type:"number",label:"G"}),H(O,{type:"number",label:"B"}),H(O,{type:"number",label:"A"})],64))}})),et={class:"color-preview-area mb-8px px-16px"},tt={class:"w-full flex justify-between"},nt=x({name:"Preview"}),at=x(I(P({},nt),{setup(r){return(e,t)=>(y(),C("div",et,[w("div",tt,[H(Ze),H(We)])]))}}));export{rt as _,at as a,D as b,j as u};
